(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{11:function(t,e,r){var s=r(30);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(10)(s,n);s.locals&&(t.exports=s.locals)},12:function(t,e,r){var s=r(32);"string"==typeof s&&(s=[[t.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};r(10)(s,n);s.locals&&(t.exports=s.locals)},14:function(t,e,r){"use strict";var s={props:{value:{type:Number,required:!0},pages:{type:Number,required:!0}},methods:{update:function(t){this.$emit("input",t)},range:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return _.range(t,e,1)}}},n=r(1),i=Object(n.a)(s,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex justify-center items-center space-x-2"},[t.value<4?t._l(t.range(t.value),(function(e){return r("button",{key:e,staticClass:"text-blue-500 hover:underline focus:underline px-5 py-2",on:{click:function(r){return t.update(e)}}},[t._v(t._s(e+1))])})):[r("button",{staticClass:"text-blue-500 hover:underline focus:underline px-5 py-2",on:{click:function(e){return t.update(0)}}},[t._v("1")]),t._v(" "),r("span",{staticClass:"select-none"},[t._v("·")]),t._v(" "),t._l(t.range(t.value-2,t.value),(function(e){return r("button",{key:e,staticClass:"text-blue-500 hover:underline focus:underline px-5 py-2",on:{click:function(r){return t.update(e)}}},[t._v(t._s(e+1))])}))],t._v(" "),r("span",{staticClass:"bg-blue-500 text-white select-none hover:underline focus:underline px-5 py-2"},[t._v(t._s(t.value+1))]),t._v(" "),t.value<t.pages-4?[t._l(t.range(t.value+1,t.value+3),(function(e){return r("button",{key:e,staticClass:"text-blue-500 hover:underline focus:underline px-5 py-2",on:{click:function(r){return t.update(e)}}},[t._v(t._s(e+1))])})),t._v(" "),r("span",{staticClass:"select-none"},[t._v("·")]),t._v(" "),r("button",{staticClass:"text-blue-500 hover:underline focus:underline px-5 py-2",on:{click:function(e){return t.update(t.pages-1)}}},[t._v(t._s(t.pages))])]:t._l(t.range(t.value+1,t.pages),(function(e){return r("button",{key:e,staticClass:"text-blue-500 hover:underline focus:underline px-5 py-2",on:{click:function(r){return t.update(e)}}},[t._v(t._s(e+1))])}))],2)}),[],!1,null,null,null);e.a=i.exports},29:function(t,e,r){"use strict";var s=r(11);r.n(s).a},3:function(t,e,r){"use strict";var s=r(1),n=Object(s.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex justify-center items-center w-full py-3 lg:py-5 bg-orange-400 shadow-md"},[e("h1",{staticClass:"font-semibold text-2xl lg:text-4xl text-white"},[this._t("default")],2)])}),[],!1,null,null,null);e.a=n.exports},30:function(t,e,r){(t.exports=r(9)(!1)).push([t.i,"body.nooverflow{overflow:hidden}@media (min-width:1024px){body.nooverflow{overflow:auto}}",""])},31:function(t,e,r){"use strict";var s=r(12);r.n(s).a},32:function(t,e,r){(t.exports=r(9)(!1)).push([t.i,".noUi-target{background-color:#cbd5e0;background-color:rgba(203,213,224,var(--bg-opacity))}.noUi-handle,.noUi-target{border-style:none;--bg-opacity:1;box-shadow:none}.noUi-handle{border-radius:9999px;background-color:#ed8936;background-color:rgba(237,137,54,var(--bg-opacity));cursor:pointer}.noUi-connect{--bg-opacity:1;background-color:#f6ad55;background-color:rgba(246,173,85,var(--bg-opacity))}.noUi-horizontal{height:3px}.noUi-horizontal .noUi-handle{width:14px;height:14px;right:-7px;top:-6px}.noUi-handle:after,.noUi-handle:before{all:initial}.noUi-tooltip{padding:0;background-color:transparent;--text-opacity:1;color:#ed8936;color:rgba(237,137,54,var(--text-opacity));letter-spacing:-.05em;font-size:.875rem;border-radius:0;border-style:none}",""])},66:function(t,e,r){"use strict";r.r(e);var s=r(0),n=r.n(s),i=r(2),a=r(3),o={props:{show:{type:Boolean,required:!0}},watch:{show:{inmediate:!0,handler:function(t){document.body.classList.toggle("nooverflow",t)}}}},c=(r(29),r(1)),l=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lg:block bg-white lg:bg-transparent fixed lg:static inset-0 lg:inset-auto overflow-y-auto lg:overflow-y-visible z-50 lg:z-auto",class:t.show?"block":"hidden"},[r("div",{staticClass:"lg:hidden w-full py-2 px-4 bg-orange-600 flex justify-between"},[r("router-link",{staticClass:"group flex items-center justify-between mr-4",attrs:{to:{name:"main"}}},[r("img",{staticClass:"w-10 h-10 mr-1",attrs:{src:"/images/icon.png",alt:"brand"}}),r("h1",{staticClass:"text-white text-opacity-75 group-hover:text-opacity-100 transition duration-300 ease-in-out text-xl"},[t._v("KakeraGaming")])]),t._v(" "),r("button",{staticClass:"text-xl font-semibold text-white transform hover:scale-125 focus:scale-125 transition-transform duration-300 ease-in-out",on:{click:function(e){return t.$emit("update:show",!t.show)}}},[r("font-awesome-icon",{attrs:{icon:"times"}})],1)],1),t._v(" "),r("div",{staticClass:"w-full max-w-full break-all p-5 lg:p-0"},[t._t("default")],2)])}),[],!1,null,null,null).exports,u={props:{title:String,showInitial:{type:Boolean,default:!1}},data:function(){return{show:this.showInitial}}},d=Object(c.a)(u,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"flex justify-between items-center text-sm"},[r("h4",{staticClass:"font-semibold uppercase tracking-tighter"},[t._v(t._s(t.title))]),t._v(" "),r("button",{on:{click:function(e){t.show=!t.show}}},[r("font-awesome-icon",{attrs:{icon:t.show?"minus":"plus"}})],1)]),t._v(" "),r("hr",{staticClass:"border-gray-300 my-2"}),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._t("default")],2)])}),[],!1,null,null,null).exports,p={props:{title:String}},h=Object(c.a)(p,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h3",{staticClass:"font-bold uppercase tracking-tighter"},[this._v(this._s(this.title))]),this._v(" "),e("hr",{staticClass:"border-gray-500 my-2"})])}),[],!1,null,null,null).exports,m={props:{min:{type:Number,default:0},max:{type:Number,default:100},start:{type:Number,default:null},end:{type:Number,default:null},disabled:{type:Boolean,default:!1},step:{type:Number,default:1},prefix:{type:String,default:""},suffix:{type:String,default:""}},watch:{start:function(t){this.$refs.slider.noUiSlider.set([t||this.min,null])},end:function(t){this.$refs.slider.noUiSlider.set([null,t||this.max])},min:function(t,e){t!=e&&(this.$refs.slider.noUiSlider.updateOptions({range:{min:t,max:this.max}}),this.$emit("update:start",t),this.$emit("update:end",this.max))},max:function(t,e){t!=e&&(this.$refs.slider.noUiSlider.updateOptions({range:{min:this.min,max:t}}),this.$emit("update:start",this.min),this.$emit("update:end",t))},disabled:function(t){t?this.$refs.slider.setAttribute("disabled",!0):this.$refs.slider.removeAttribute("disabled")}},mounted:function(){var t={start:[this.start?this.start:this.min,this.end?this.end:this.max],connect:!0,tooltips:!0,format:wNumb({decimals:3,thousand:".",prefix:this.prefix,suffix:this.suffix}),range:{min:this.min,max:this.max},step:this.step};noUiSlider.create(this.$refs.slider,t),this.$refs.slider.noUiSlider.on("change",this.sliderChange),this.disabled&&this.$refs.slider.setAttribute("disabled",!0)},methods:{sliderChange:function(t,e,r){0==e?this.$emit("update:start",r[e]):this.$emit("update:end",r[e])}}},f=(r(31),Object(c.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mx-3 mt-8 mb-5"},[e("div",{ref:"slider"})])}),[],!1,null,null,null).exports),g={props:{value:{type:Array,required:!0},options:{type:Array,required:!0,validator:function(t){return t.every((function(t){return _.has(t,"value")}))}},limit:{type:Number,default:5}},data:function(){return{showMore:!1}},computed:{state:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},allChecked:function(){return 0==this.value.length}}},v=Object(c.a)(g,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",[r("label",{staticClass:"checkbox"},[r("input",{attrs:{type:"checkbox",disabled:""},domProps:{checked:t.allChecked}}),t._v(" "),r("span",{staticClass:"checkmark"}),t._v("\n            Todo\n        ")])]),t._v(" "),t._l(t.options,(function(e,s){return r("div",{directives:[{name:"show",rawName:"v-show",value:s<t.limit||t.showMore,expression:"index<limit||showMore"}],key:s},[r("label",{staticClass:"checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.state,expression:"state"}],attrs:{type:"checkbox"},domProps:{value:e.value,checked:Array.isArray(t.state)?t._i(t.state,e.value)>-1:t.state},on:{change:function(r){var s=t.state,n=r.target,i=!!n.checked;if(Array.isArray(s)){var a=e.value,o=t._i(s,a);n.checked?o<0&&(t.state=s.concat([a])):o>-1&&(t.state=s.slice(0,o).concat(s.slice(o+1)))}else t.state=i}}}),t._v(" "),r("span",{staticClass:"checkmark"}),t._v("\n            "+t._s(e.name?e.name:e.value)+"\n        ")])])})),t._v(" "),t.options.length>t.limit?r("button",{staticClass:"text-blue-500 text-sm tracking-tighter",on:{click:function(e){t.showMore=!t.showMore}}},[t._v(t._s(t.showMore?"Mostrar menos":"Mostrar más")+" "),r("font-awesome-icon",{staticClass:"align-middle mx-1",attrs:{icon:t.showMore?"angle-up":"angle-down"}})],1):t._e()],2)}),[],!1,null,null,null).exports,b={props:{category:String}},y=Object(c.a)(b,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex items-baseline text-xs ml-2 mb-1"},[r("span",{staticClass:"uppercase font-bold tracking-tighter mr-2"},[t._v(t._s(t.category)+":")]),t._v(" "),r("button",{staticClass:"group px-2 border rounded-md bg-gray-100 border-gray-400 transition duration-300 ease-in-out hover:border-orange-400 focus:border-orange-400",on:{click:function(e){return t.$emit("close")}}},[t._t("default"),r("font-awesome-icon",{staticClass:"ml-2 text-sm transition duration-300 ease-in-out group-hover:text-orange-400 group-focus:text-orange-400",attrs:{icon:"times"}})],2)])}),[],!1,null,null,null).exports,x=Object(c.a)({},(function(){var t=this.$createElement;return(this._self._c||t)("th",{staticClass:"px-2 py-1 border-b border-gray-500 hover:border-orange-500 select-none whitespace-no-wrap font-medium"},[this._t("default")],2)}),[],!1,null,null,null).exports,C={props:{desc:{type:Boolean,default:!0},selected:{type:Boolean,default:!1}},methods:{handle:function(){this.selected?this.$emit("order"):this.$emit("selected")}}},w=Object(c.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"px-2 py-1 group cursor-pointer border-b border-gray-500 hover:border-orange-500 select-none whitespace-no-wrap font-medium",class:this.selected?"border-orange-500":"",on:{click:this.handle}},[e("font-awesome-icon",{staticClass:"group-hover:text-orange-500 group-focus:text-orange-500 transform transition-transform duration-300 ease-in-out mr-1",class:{"text-orange-500":this.selected,"rotate-180":!this.desc},attrs:{icon:"angle-down"}}),this._v(" "),this._t("default")],2)}),[],!1,null,null,null).exports;function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function S(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Q={props:{product:Object,disabled:{type:Boolean,default:!1},to:{type:String|Location,required:!0}},computed:E(E({},Object(i.c)("auth",["administrator"])),{},{rating:function(){return this.product.rating?_.round(parseFloat(this.product.rating)):0}})},O=Object(c.a)(Q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",{staticClass:"even:bg-gray-200 whitespace-no-wrap"},[r("td",{staticClass:"p-3 flex justify-center items-center"},[r("div",{staticClass:"w-12 sm:w-16 md:w-20 hover:relative hover:z-10 flex-shrink-0 rounded-sm border bg-white transition-transform duration-150 ease-in-out transform hover:scale-125 cursor-pointer p-1"},[t.product.thumbnail?[r("img",{staticClass:"block w-full h-auto",attrs:{src:t.product.thumbnail}})]:[r("span",[t._v("-")])]],2)]),t._v(" "),r("td",{staticClass:"p-2"},[r("router-link",{staticClass:"font-semibold hover:text-orange-600",attrs:{to:t.to}},[t._v(t._s(t.product.name))])],1),t._v(" "),r("td",{staticClass:"p-2"},[r("span",{staticClass:"font-medium"},[t._v(t._s(t.product.price))])]),t._v(" "),r("td",{staticClass:"p-2 text-orange-600 select-none"},[t._l(t.rating,(function(e){return r("span",{key:e},[t._v("\n            ★\n        ")])})),t._v(" "),t._l(5-t.rating,(function(e){return r("span",{key:e+t.rating},[t._v("\n            ☆\n        ")])})),t._v(" "),r("span",{staticClass:"text-sm"},[t._v("("+t._s(t.product.rating?t.product.rating:"0")+" ★)")])],2),t._v(" "),r("td",{staticClass:"p-2 text-center"},[r("button",{staticClass:"btn-outlined btn-outlined-orange px-2 py-1 disabled:cursor-not-allowed",attrs:{disabled:t.disabled},on:{click:function(e){!t.disabled&&t.$emit("add")}}},[r("font-awesome-icon",{attrs:{icon:"plus"}}),t.administrator?t._e():[t._v(" Añadir")]],2),t._v(" "),t.administrator?r("button",{staticClass:"btn-outlined btn-outlined-orange px-2 py-1 disabled:cursor-not-allowed",attrs:{disabled:t.disabled},on:{click:function(e){!t.disabled&&t.$emit("remove")}}},[r("font-awesome-icon",{attrs:{icon:"times"}})],1):t._e(),t._v(" "),t.administrator?r("router-link",{staticClass:"inline-block btn-outlined btn-outlined-orange px-2 py-1",attrs:{to:{name:"edit-product",params:{productId:t.product.id}}}},[r("font-awesome-icon",{attrs:{icon:"pencil-alt"}})],1):t._e()],1)])}),[],!1,null,null,null).exports,j=r(14);function P(t,e,r,s,n,i,a){try{var o=t[i](a),c=o.value}catch(t){return void r(t)}o.done?e(c):Promise.resolve(c).then(s,n)}function $(t){return function(){var e=this,r=arguments;return new Promise((function(s,n){var i=t.apply(e,r);function a(t){P(i,s,n,a,o,"next",t)}function o(t){P(i,s,n,a,o,"throw",t)}a(void 0)}))}}function D(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?D(Object(r),!0).forEach((function(e){N(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function N(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var F,U,T,A={props:{categoryParam:{type:String,default:null},searchQuery:{type:String,default:null},pageQuery:{type:Number,default:0},sortQuery:{type:String,default:null},sortDescQuery:{type:Boolean,default:!0},ratingStartQuery:{type:Number,default:null},ratingEndQuery:{type:Number,default:null},priceStartQuery:{type:Number,default:null},priceEndQuery:{type:Number,default:null}},data:function(){return{showFilters:!1,loading:!0,page:this.pageQuery,nPages:0,search:this.searchQuery,items:[],totalItems:0,error:null,sort:this.sortQuery,sortDesc:this.sortDescQuery,ratingStart:this.ratingStartQuery,ratingEnd:this.ratingEndQuery,priceStart:this.priceStartQuery,priceEnd:this.priceEndQuery,maxPrice:100,columns:[{title:"Nombre",name:"name"},{title:"Precio",name:"price"},{title:"Rating",name:"rating"}]}},computed:I(I({},Object(i.c)("auth",["administrator"])),{},{title:function(){switch(this.categoryParam){case"chairs":return"Sillas";case"tables":return"Mesas";case"desks":return"Escritorios";case"armchairs":return"Sillones";case"bookshelfs":return"Bibliotecas";default:return"Muebles"}},filtered:function(){return this.searchQuery||this.sortQuery||this.sortDescQuery||this.ratingStartQuery||this.ratingEndQuery||this.priceStartQuery||this.priceEndQuery},pageC:{get:function(){return this.page},set:function(t){this.page=t,this.updateQueryDebounced()}},searchC:{get:function(){return this.search},set:function(t){this.search=t,this.searchQuery!==t&&(this.page=0,this.updateQueryDebounced())}},sortC:{get:function(){return this.sort},set:function(t){this.sort=t,this.sortDesc=!0,this.updateQueryDebounced()}},sortDescC:{get:function(){return this.sortDesc},set:function(t){this.sortDesc=t,this.updateQueryDebounced()}},ratingStartC:{get:function(){return this.ratingStart},set:function(t){this.ratingStart=t,this.ratingStartQuery==t||null==this.ratingStartQuery&&0==t||(this.page=0,this.updateQueryDebounced())}},ratingEndC:{get:function(){return this.ratingEnd},set:function(t){this.ratingEnd=t,this.ratingEndQuery==t||null==this.ratingEndQuery&&5==t||(this.page=0,this.updateQueryDebounced())}},priceStartC:{get:function(){return this.priceStart},set:function(t){this.priceStart=t,this.priceStartQuery==t||null==this.priceEndQuery&&0==t||(this.page=0,this.updateQueryDebounced())}},priceEndC:{get:function(){return this.priceEnd},set:function(t){this.priceEnd=t,this.priceEndQuery==t||null==this.priceEndQuery&&t==this.maxPrice||(this.page=0,this.updateQueryDebounced())}}}),created:function(){this.updateQueryDebounced=_.debounce(this.updateQuery,500),this.fetchData(),document.title=this.title+" | La mueblería"},watch:{$route:function(){this.page=this.pageQuery,this.nPages=0,this.search=this.searchQuery,this.items=[],this.totalItems=0,this.error=null,this.sort=this.sortQuery,this.sortDesc=this.sortDescQuery,this.ratingStart=this.ratingStartQuery,this.ratingEnd=this.ratingEndQuery,this.priceStart=this.priceStartQuery,this.priceEnd=this.priceEndQuery,this.fetchData(),document.title=this.title+" | La mueblería"}},methods:I(I({},Object(i.b)("cart",{addToCartAction:"addToCart"})),{},{updateQuery:function(){var t={};this.search&&(t.s=this.search),this.page&&(t.p=this.page),this.sort&&(t.sort=this.sort,this.sortDesc&&(t.sortd=this.sortDesc)),this.ratingStart&&0!=this.ratingStart&&(t.rating_start=this.ratingStart),this.ratingEnd&&5!=this.ratingEnd&&(t.rating_end=this.ratingEnd),this.priceStart&&0!=this.priceStart&&(t.price_start=this.priceStart),this.priceEnd&&this.priceEnd!=this.maxPrice&&(t.price_end=this.priceEnd),this.$router.push({query:t})},fetchData:(T=$(n.a.mark((function t(){var e,r,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,e={},this.search&&(e.s=this.search),this.page&&(e.p=this.page),this.sort&&(e.sort=this.sort,this.sortDesc&&(e.sortd=this.sortDesc)),this.ratingStart&&0!=this.ratingStart&&(e.rating_start=this.ratingStart),this.ratingEnd&&5!=this.ratingEnd&&(e.rating_end=this.ratingEnd),this.priceStart&&0!=this.priceStart&&(e.price_start=this.priceStart),this.priceEnd&&this.priceEnd!=this.maxPrice&&(e.price_end=this.priceEnd),t.next=12,axios.get("/api/category/"+this.categoryParam,{params:e});case 12:r=t.sent.data,this.items=r.data,this.totalItems=r.total,this.nPages=r.n_pages,this.maxPrice=r.max_price?parseFloat(r.max_price):100,t.next=24;break;case 19:t.prev=19,t.t0=t.catch(1),s="",t.t0.response?404==t.t0.response.status?s+="El recurso solicitado no existe":401!=t.t0.response.status&&403!=t.t0.response.status||(s+="No posee acceso al recurso solicitado"):s=t.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.error=s+" ("+t.t0.message+")";case 24:return t.prev=24,this.loading=!1,t.finish(24);case 27:case"end":return t.stop()}}),t,this,[[1,19,24,27]])}))),function(){return T.apply(this,arguments)}),addToCart:(U=$(n.a.mark((function t(e){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.administrator){t.next=3;break}return this.$notify({group:"messages",type:"error",title:"No posee autorización para realizar tal operación"}),t.abrupt("return");case 3:return t.prev=3,t.next=6,this.addToCartAction(e);case 6:console.log("Producto añadido"),this.$notify({group:"messages",type:"success",title:"Producto añadido exitosamente"}),t.next=16;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0),r="",t.t0.response?404==t.t0.response.status?r+="El recurso solicitado no existe":401!=t.t0.response.status&&403!=t.t0.response.status||(r+="No posee acceso al recurso solicitado"):r=t.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.$notify({group:"messages",type:"error",title:"Error",text:r+" ("+t.t0.message+")"});case 16:case"end":return t.stop()}}),t,this,[[3,10]])}))),function(t){return U.apply(this,arguments)}),removeProduct:(F=$(n.a.mark((function t(e){var r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,axios.delete("/api/products/"+e.id);case 4:console.log("Producto eliminado"),this.$notify({group:"messages",type:"success",title:"Producto eliminado exitosamente"}),this.fetchData(),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),r="",t.t0.response?404==t.t0.response.status?r+="El recurso solicitado no existe":401!=t.t0.response.status&&403!=t.t0.response.status||(r+="No posee acceso al recurso solicitado"):r=t.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.error=r+" ("+t.t0.message+")";case 14:return t.prev=14,this.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,this,[[1,9,14,17]])}))),function(t){return F.apply(this,arguments)})}),components:{TitleBanner:a.a,PopupOverlay:l,CollapsibleItem:d,CategoryItem:h,MultipleChoiceItem:v,SliderRangeItem:f,FilterItem:y,TableHeaderItem:x,TableHeaderSortableItem:w,TableRowItem:O,PaginationItem:j.a}},q=Object(c.a)(A,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("TitleBanner",[t._v(t._s(t.title?t.title:"Ver categoría"))]),t._v(" "),r("div",{staticClass:"container mx-auto my-5 lg:my-8 grid gap-5 lg:gap-8 grid-cols-1 lg:grid-cols-5"},[r("div",[r("div",{staticClass:"container lg:max-w-none mx-auto flex px-4 lg:hidden"},[r("button",{staticClass:"btn-outlined btn-outlined-orange font-semibold flex-1 py-1",on:{click:function(e){t.showFilters=!t.showFilters}}},[t._v("Filtros")])]),t._v(" "),r("PopupOverlay",{attrs:{show:t.showFilters},on:{"update:show":function(e){t.showFilters=e}}},[r("div",[r("CategoryItem",{attrs:{title:"Filtros"}}),t._v(" "),r("CollapsibleItem",{staticClass:"mb-2",attrs:{title:"Precio"}},[r("SliderRangeItem",{attrs:{prefix:"$",disabled:t.loading,max:t.maxPrice,start:t.priceStartC,end:t.priceEndC},on:{"update:start":function(e){t.priceStartC=e},"update:end":function(e){t.priceEndC=e}}})],1),t._v(" "),r("CollapsibleItem",{staticClass:"mb-2",attrs:{title:"Rating"}},[r("SliderRangeItem",{attrs:{suffix:"★",disabled:t.loading,max:5,start:t.ratingStartC,end:t.ratingEndC},on:{"update:start":function(e){t.ratingStartC=e},"update:end":function(e){t.ratingEndC=e}}})],1)],1)])],1),t._v(" "),r("div",{staticClass:"lg:col-span-4 px-4 sm:px-0"},[t.administrator?r("div",{staticClass:"flex flex-row justify-start items-center mb-2"},[r("router-link",{staticClass:"inline-block btn-outlined btn-outlined-orange px-2 py-1 text-sm",attrs:{to:{name:"add-product"}}},[r("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" Añadir producto")],1)],1):t._e(),t._v(" "),t.filtered?r("div",{staticClass:"flex items-baseline flex-wrap"},[r("span",{staticClass:"text-sm tracking-tight font-bold"},[t._v("Filtrado por:")]),t._v(" "),t.searchQuery?r("FilterItem",{attrs:{category:"Búsqueda"},on:{close:function(e){t.searchC=""}}},[t._v("\n                    "+t._s(t.searchQuery)+"\n                ")]):t._e(),t._v(" "),t.sortQuery?r("FilterItem",{attrs:{category:"Ordenar por"},on:{close:function(e){t.sortC=null}}},[t._v("\n                    "+t._s(t.sortQuery)+"\n                ")]):t._e(),t._v(" "),t.sortQuery&&t.sortDescQuery?r("FilterItem",{attrs:{category:"Ordenar en descenso"},on:{close:function(e){t.sortDescQuery=!1}}},[t.sortDescC?r("span",[t._v("Sí")]):r("span",[t._v("No")])]):t._e(),t._v(" "),t.priceStartQuery?r("FilterItem",{attrs:{category:"Precio mínimo"},on:{close:function(e){t.priceStartC=null}}},[t._v("\n                    "+t._s(t.priceStartQuery)+"\n                ")]):t._e(),t._v(" "),t.priceEndQuery?r("FilterItem",{attrs:{category:"Precio máximo"},on:{close:function(e){t.priceEndC=null}}},[t._v("\n                    "+t._s(t.priceEndC)+"\n                ")]):t._e(),t._v(" "),t.ratingStartQuery?r("FilterItem",{attrs:{category:"Reseña mínima"},on:{close:function(e){t.ratingStartC=null}}},[t._v("\n                    "+t._s(t.ratingStartQuery)+" Estrellas\n                ")]):t._e(),t._v(" "),t.ratingEndQuery?r("FilterItem",{attrs:{category:"Reseña máxima"},on:{close:function(e){t.ratingEndC=null}}},[t._v("\n                    "+t._s(t.ratingEndC)+" Estrellas\n                ")]):t._e()],1):t._e(),t._v(" "),r("div",{staticClass:"flex items-center"},[r("h3",{staticClass:"flex-grow text-sm md:text-base font-bold uppercase tracking-tighter"},[t._v("\n                    "+t._s(t.loading?"Cargando...":0==t.totalItems?"Sin productos encontrados":1==t.totalItems?"1 producto encontrado":t.totalItems+" productos encontrados")+"\n                ")]),t._v(" "),r("div",{staticClass:"flex items-center"},[r("font-awesome-icon",{staticClass:"mx-2",attrs:{icon:"search"}}),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchC,expression:"searchC"}],staticClass:"text-xs border rounded-md border-gray-500 placeholder-gray-500 text-gray-700 py-1 px-2",attrs:{type:"text",placeholder:"Buscar en categoría"},domProps:{value:t.searchC},on:{input:function(e){e.target.composing||(t.searchC=e.target.value)}}})],1)]),t._v(" "),r("hr",{staticClass:"border-gray-500 my-2"}),t._v(" "),r("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?r("div",{key:1,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[r("span",{staticClass:"spinner w-8 h-8 mx-2"}),t._v("\n                    Cargando\n                ")]):0==t.totalItems?r("div",{key:2,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[t._v("\n                    No se encontraron productos que coincidan con tu busqueda\n                ")]):r("div",{key:3},[r("div",{staticClass:"mt-4 max-w-full overflow-x-auto"},[r("table",{staticClass:"table-auto min-w-full"},[r("thead",[r("tr",{staticClass:"text-left text-sm"},[r("TableHeaderItem",{staticClass:"text-center"},[t._v("Imágen")]),t._v(" "),t._l(t.columns,(function(e,s){return r("TableHeaderSortableItem",{key:s,attrs:{desc:t.sortC!=e.name||t.sortDescC,selected:t.sortC==e.name},on:{selected:function(r){t.sortC=e.name},order:function(e){t.sortDescC=!t.sortDescC}}},[t._v("\n                                        "+t._s(e.title)+"\n                                    ")])})),t._v(" "),r("TableHeaderItem",{staticClass:"text-center"},[t._v("Acciones")])],2)]),t._v(" "),r("tbody",t._l(t.items,(function(e){return r("TableRowItem",{key:e.id,attrs:{to:{name:"product",params:{productId:e.id}},disabled:0==e.stock,product:e},on:{add:function(r){return t.addToCart(e)},remove:function(r){return t.removeProduct(e)}}})})),1)])]),t._v(" "),r("div",{staticClass:"mt-4 flex justify-center items-center"},[r("PaginationItem",{attrs:{pages:t.nPages},model:{value:t.pageC,callback:function(e){t.pageC=e},expression:"pageC"}})],1)])])],1)])],1)}),[],!1,null,null,null);e.default=q.exports}}]);
//# sourceMappingURL=1.js.map
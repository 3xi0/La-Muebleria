(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{78:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),n=r(2);function o(e,t,r,a,s,n,o){try{var i=e[n](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(a,s)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u,m,d={data:function(){return{form:{name:"",email:"",title:"",message:""},validationErrors:{name:[],email:[],title:[],message:[]},generalError:"",loading:!1}},computed:l(l({},Object(n.c)("auth",["authenticated"])),Object(n.d)("auth",["user"])),created:function(){this.authenticated&&(this.form.name=this.user.name,this.form.email=this.user.email)},methods:{submitInformation:(u=s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.validationErrors={name:[],email:[],title:[],message:[]},this.generalError="",this.loading=!0,e.prev=3,e.next=6,axios.post("/api/messages",this.form);case 6:this.$router.push({name:"main"}),this.$notify({group:"messages",type:"success",title:"Mensaje enviado exitosamente"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response?e.t0.response.data.errors?_.extend(this.validationErrors,e.t0.response.data.errors):this.generalError=e.t0.response.data:(t="",t=e.t0.request?"El servidor tard칩 en responder":"No se pudo comunicar con el servidor",this.generalError=t+" ("+e.t0.message+")");case 13:return e.prev=13,this.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,this,[[3,10,13,16]])})),m=function(){var e=this,t=arguments;return new Promise((function(r,a){var s=u.apply(e,t);function n(e){o(s,r,a,n,i,"next",e)}function i(e){o(s,r,a,n,i,"throw",e)}n(void 0)}))},function(){return m.apply(this,arguments)})}},p=r(1),f=Object(p.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"flex flex-1 flex-col sm:justify-center items-center sm:bg-orange-400"},[r("div",{staticClass:"bg-white sm:border sm:border-orange-500 sm:rounded-md sm:shadow-lg w-full max-w-full sm:max-w-sm lg:max-w-lg"},[r("h1",{staticClass:"bg-orange-500 text-white font-semibold text-3xl text-center p-4"},[e._v("Cont치ctanos")]),e._v(" "),r("div",{staticClass:"px-8 py-6"},[r("form",{staticClass:"space-y-6",on:{submit:function(t){return t.preventDefault(),e.submitInformation(t)}}},[r("div",{staticClass:"space-y-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out",attrs:{readonly:e.authenticated,type:"text",placeholder:"Nombre completo"},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),e._l(e.validationErrors.name,(function(t,a){return r("p",{key:a,staticClass:"text-red-600"},[e._v(e._s(t))])}))],2),e._v(" "),r("div",{staticClass:"space-y-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out",attrs:{readonly:e.authenticated,type:"email",placeholder:"Direcci칩n de correo electr칩nico"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}}),e._v(" "),e._l(e.validationErrors.email,(function(t,a){return r("p",{key:a,staticClass:"text-red-600"},[e._v(e._s(t))])}))],2),e._v(" "),r("div",{staticClass:"space-y-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.title,expression:"form.title"}],staticClass:"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out",attrs:{type:"text",maxlength:"100",placeholder:"Asunto"},domProps:{value:e.form.title},on:{input:function(t){t.target.composing||e.$set(e.form,"title",t.target.value)}}}),e._v(" "),e._l(e.validationErrors.title,(function(t,a){return r("p",{key:a,staticClass:"text-red-600"},[e._v(e._s(t))])}))],2),e._v(" "),r("div",{staticClass:"space-y-2"},[r("div",{staticClass:"space-y-1"},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.message,expression:"form.message"}],staticClass:"w-full border-b border-orange-300 focus:border-orange-400 py-2 px-1 placeholder-gray-700 text-orange-500 transition duration-300 ease-in-out",attrs:{maxlength:"512",placeholder:"Mensaje"},domProps:{value:e.form.message},on:{input:function(t){t.target.composing||e.$set(e.form,"message",t.target.value)}}}),e._v(" "),r("p",{staticClass:"text-sm text-orange-500 text-right"},[e._v(e._s(e.form.message.length)+"/512")])]),e._v(" "),e._l(e.validationErrors.message,(function(t,a){return r("p",{key:a,staticClass:"text-red-600"},[e._v(e._s(t))])}))],2),e._v(" "),e.generalError?r("p",{staticClass:"text-red-600"},[e._v(e._s(e.generalError))]):e._e(),e._v(" "),r("button",{staticClass:"w-full btn-outlined btn-outlined-orange font-semibold text-center px-3 py-2",attrs:{disabled:e.loading,type:"submit"}},[e.loading?[r("span",{staticClass:"spinner spinner-disabled w-6 h-6 mx-2"})]:[e._v("\n                        Enviar mensaje\n                    ")]],2)])])])])}),[],!1,null,null,null);t.default=f.exports}}]);
//# sourceMappingURL=8.js.map
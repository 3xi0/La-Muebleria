(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{3:function(t,e,r){"use strict";var s=r(1),o=Object(s.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex justify-center items-center w-full py-3 lg:py-5 bg-orange-400 shadow-md"},[e("h1",{staticClass:"font-semibold text-2xl lg:text-4xl text-white"},[this._t("default")],2)])}),[],!1,null,null,null);e.a=o.exports},70:function(t,e,r){"use strict";r.r(e);var s=r(0),o=r.n(s),n=r(2),a=r(3),i={props:{value:{type:Object,validator:function(t){var e=t.product;return(!_.has(e,"thumbnail")||_.isString(e.thumbnail)||_.isNull(e.thumbnail))&&_.isString(e.price)&&_.isString(e.name)&&!isNaN(t.quantity)&&!isNaN(parseInt(t.quantity))}},disabled:{type:Boolean,default:!1},to:{type:String|Object,required:!0}}},c=r(1),l=Object(c.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"p-2 flex flex-row items-center space-x-4 lg:space-x-6"},[r("div",{staticClass:"text-center w-20 md:w-24 hover:relative hover:z-10 flex-shrink-0 rounded-sm border bg-white transition-transform duration-150 ease-in-out transform hover:scale-150 cursor-pointer"},[t.value.product.thumbnail?[r("img",{staticClass:"block w-full h-auto",attrs:{src:t.value.product.thumbnail}})]:[r("span",[t._v("-")])]],2),t._v(" "),r("div",{staticClass:"flex flex-grow flex-col lg:flex-row break-words lg:space-x-6 lg:items-center"},[r("div",{staticClass:"flex-grow text-sm lg:text-base"},[r("span",[t._v(t._s(t.value.quantity)+" x ")]),t._v(" "),r("router-link",{staticClass:"font-semibold hover:text-orange-600",attrs:{to:t.to}},[t._v(t._s(t.value.product.name))])],1),t._v(" "),r("span",{staticClass:"text-sm lg:text-right lg:w-56 lg:text-base font-medium"},[t._v("$"+t._s(t.value.product.price))])]),t._v(" "),r("button",{staticClass:"mx-4 text-orange-400 text-3xl disabled:cursor-not-allowed",attrs:{disabled:t.disabled},on:{click:function(e){!t.disabled&&t.$emit("remove")}}},[r("font-awesome-icon",{attrs:{icon:"times"}})],1)])}),[],!1,null,null,null).exports;function u(t,e,r,s,o,n,a){try{var i=t[n](a),c=i.value}catch(t){return void r(t)}i.done?e(c):Promise.resolve(c).then(s,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(s,o){var n=t.apply(e,r);function a(t){u(n,s,o,a,i,"next",t)}function i(t){u(n,s,o,a,i,"throw",t)}a(void 0)}))}}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f,b,h,x={data:function(){return{loading:!1,totalItems:0,items:[],error:null}},computed:{subtotalCost:function(){return _.reduce(this.items,(function(t,e){return t+e.quantity*e.product.price}),0)}},created:function(){this.fetchData()},methods:m(m({},Object(n.b)("cart",{retrieveProducts:"retrieveProducts",removeFromCartAction:"removeFromCart",emptyCartAction:"emptyCart"})),{},{checkout:function(){this.$notify({group:"messages",type:"informative",title:"Proximamente"})},emptyCart:(h=d(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.emptyCartAction();case 3:console.log("Carrito vaciado"),this.$notify({group:"messages",type:"success",title:"Carrito vaciado exitosamente"}),this.fetchData(),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),e="",t.t0.response?404==t.t0.response.status?e+="El recurso solicitado no existe":401!=t.t0.response.status&&403!=t.t0.response.status||(e+="No posee acceso al recurso solicitado"):e=t.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.$notify({group:"messages",type:"error",title:"Error",text:e+" ("+t.t0.message+")"});case 14:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return h.apply(this,arguments)}),removeFromCart:(b=d(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.removeFromCartAction(e);case 3:console.log("Producto eliminado"),this.$notify({group:"messages",type:"success",title:"Producto eliminado del carrito exitosamente"}),this.fetchData(),t.next=14;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),r="",t.t0.response?404==t.t0.response.status?r+="El recurso solicitado no existe":401!=t.t0.response.status&&403!=t.t0.response.status||(r+="No posee acceso al recurso solicitado"):r=t.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.$notify({group:"messages",type:"error",title:"Error",text:r+" ("+t.t0.message+")"});case 14:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(t){return b.apply(this,arguments)}),fetchData:(f=d(o.a.mark((function t(){var e,r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.prev=1,t.next=4,this.retrieveProducts();case 4:e=t.sent,this.items=e.data,this.totalItems=e.total_items,this.totalCost=e.total_cost,t.next=16;break;case 10:t.prev=10,t.t0=t.catch(1),console.log(t.t0),r="",t.t0.response?404==t.t0.response.status?r+="El recurso solicitado no existe":401!=t.t0.response.status&&403!=t.t0.response.status||(r+="No posee acceso al recurso solicitado"):r=t.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.error=r+" ("+t.t0.message+")";case 16:return t.prev=16,this.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,10,16,19]])}))),function(){return f.apply(this,arguments)})}),components:{TitleBanner:a.a,CartRowItem:l}},g=Object(c.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("TitleBanner",[t._v("Items en carrito")]),t._v(" "),r("div",{staticClass:"container mx-auto p-5"},[r("div",{staticClass:"flex items-center text-sm md:text-base tracking-tighter"},[r("h3",{staticClass:"flex-grow uppercase font-bold"},[t._v("\n                "+t._s(t.loading?"Cargando...":0==t.totalItems?"Sin productos encontrados":1==t.totalItems?"1 producto encontrado":t.totalItems+" productos encontrados")+"\n            ")]),t._v(" "),t.loading?t._e():[t.totalItems>0?r("span",{staticClass:"font-semibold"},[t._v("\n                    Costo subtotal: $"+t._s(t.subtotalCost)+"\n                ")]):r("span",{staticClass:"font-semibold"},[t._v("\n                    Ingrese al menos un producto\n                ")])]],2),t._v(" "),r("hr",{staticClass:"border-gray-500 my-2"}),t._v(" "),r("div",{staticClass:"mb-2"},[r("transition",{attrs:{name:"fade",mode:"out-in"}},[t.loading?r("div",{key:0,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[r("span",{staticClass:"spinner w-8 h-8 mx-2"}),t._v("\n                    Cargando\n                ")]):t.error?r("div",{key:1,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[t._v("\n                    Error al obtener los productos de la base de datos: "+t._s(t.error)+"\n                ")]):0==t.items.length?r("div",{key:2,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[t._v("\n                    No hay productos en su carrito\n                ")]):r("div",{key:3},[r("div",{staticClass:"flex-col divide-y divide-gray-400"},t._l(t.items,(function(e,s){return r("CartRowItem",{key:s,attrs:{to:{name:"product",params:{productId:e.product.id}},value:e},on:{remove:function(r){return t.removeFromCart(e.product)}}})})),1)])])],1),t._v(" "),r("div",{staticClass:"flex justify-between"},[r("button",{staticClass:"btn-outlined btn-outlined-orange px-2 py-1 disabled:cursor-not-allowed",attrs:{disabled:t.loading||0==t.totalItems},on:{click:t.emptyCart}},[t._v("Vaciar carrito")]),t._v(" "),r("button",{staticClass:"btn-outlined btn-outlined-orange px-2 py-1 disabled:cursor-not-allowed",attrs:{disabled:t.loading||0==t.totalItems},on:{click:t.checkout}},[t._v("Finalizar compra")])])])],1)}),[],!1,null,null,null);e.default=g.exports}}]);
//# sourceMappingURL=4.js.map
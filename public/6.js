(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{3:function(e,t,s){"use strict";var n=s(1),a=Object(n.a)({},(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex justify-center items-center w-full py-3 lg:py-5 bg-orange-400 shadow-md"},[t("h1",{staticClass:"font-semibold text-2xl lg:text-4xl text-white"},[this._t("default")],2)])}),[],!1,null,null,null);t.a=a.exports},71:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s.n(n),r=s(3),o={props:{message:{type:Object,validator:function(e){return _.isString(e.name)&&_.isString(e.email)&&_.isString(e.title)&&_.isString(e.message)}},disabled:{type:Boolean,default:!1},to:{type:String|Object,required:!0}}},i=s(1),l=Object(i.a)(o,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-2 flex flex-row items-center space-x-4 lg:space-x-6"},[s("div",{staticClass:"flex flex-grow flex-col lg:flex-row break-words lg:space-x-6 lg:items-center"},[e._v('\n        "'),s("router-link",{staticClass:"font-semibold hover:text-orange-600 text-sm lg:text-base",attrs:{to:e.to}},[e._v(e._s(e.message.title))]),e._v('" de '+e._s(e.message.name)+" ("+e._s(e.message.email)+")\n    ")],1),e._v(" "),s("button",{staticClass:"mx-4 text-orange-400 text-3xl disabled:cursor-not-allowed",attrs:{disabled:e.disabled},on:{click:function(t){!e.disabled&&e.$emit("remove")}}},[s("font-awesome-icon",{attrs:{icon:"times"}})],1)])}),[],!1,null,null,null).exports;function c(e,t,s,n,a,r,o){try{var i=e[r](o),l=i.value}catch(e){return void s(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function d(e){return function(){var t=this,s=arguments;return new Promise((function(n,a){var r=e.apply(t,s);function o(e){c(r,n,a,o,i,"next",e)}function i(e){c(r,n,a,o,i,"throw",e)}o(void 0)}))}}var u,m,p={data:function(){return{loading:!1,totalItems:0,items:[],error:null}},created:function(){this.fetchData()},watch:{$route:function(){this.totalItems=0,this.items=[],this.error=null,this.fetchData()}},methods:{fetchData:(m=d(a.a.mark((function e(){var t,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loading=!0,e.prev=1,e.next=4,axios.get("/api/messages");case 4:t=e.sent.data,this.items=t.data,this.totalItems=t.total,e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),s="",e.t0.response?404==e.t0.response.status?s+="El recurso solicitado no existe":401!=e.t0.response.status&&403!=e.t0.response.status||(s+="No posee acceso al recurso solicitado"):s=e.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.error=s+" ("+e.t0.message+")";case 14:return e.prev=14,this.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,9,14,17]])}))),function(){return m.apply(this,arguments)}),removeMessage:(u=d(a.a.mark((function e(t){var s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.delete("/api/messages/"+t.id);case 3:console.log("Mensaje eliminado"),this.$notify({group:"messages",type:"success",title:"Mensaje eliminado exitosamente"}),this.fetchData(),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),s="",e.t0.response?404==e.t0.response.status?s+="El recurso solicitado no existe":401!=e.t0.response.status&&403!=e.t0.response.status||(s+="No posee acceso al recurso solicitado"):s=e.t0.request?"El servidor tardó en responder":"No se pudo comunicar con el servidor",this.$notify({group:"messages",type:"error",title:"Error",text:s+" ("+e.t0.message+")"});case 14:case"end":return e.stop()}}),e,this,[[0,8]])}))),function(e){return u.apply(this,arguments)})},components:{TitleBanner:r.a,MessageRowItem:l}},f=Object(i.a)(p,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("TitleBanner",[e._v("Mensajes - administrador")]),e._v(" "),s("div",{staticClass:"container mx-auto p-5"},[s("h3",{staticClass:"text-sm md:text-base font-bold uppercase tracking-tighter"},[e._v("\n            "+e._s(e.loading?"Cargando...":0==e.totalItems?"Sin mensajes encontrados":1==e.totalItems?"1 mensaje encontrado":e.totalItems+" mensajes encontrados")+"\n        ")]),e._v(" "),s("hr",{staticClass:"border-gray-500 my-2"}),e._v(" "),s("transition",{attrs:{name:"fade",mode:"out-in"}},[e.loading?s("div",{key:0,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[s("span",{staticClass:"spinner w-8 h-8 mx-2"}),e._v("\n                Cargando\n            ")]):e.error?s("div",{key:1,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[e._v("\n                Error al obtener los mensajes de la base de datos: "+e._s(e.error)+"\n            ")]):0==e.items.length?s("div",{key:2,staticClass:"flex justify-center items-center text-center align-middle py-8 text-xl font-semibold text-orange-600"},[e._v("\n                No se encontraron mensajes\n            ")]):s("div",{key:3},[s("div",{staticClass:"flex-col divide-y divide-gray-400"},e._l(e.items,(function(t,n){return s("MessageRowItem",{key:n,attrs:{to:{name:"message",params:{messageId:t.id}},message:t},on:{remove:function(s){return e.removeMessage(t)}}})})),1)])])],1)],1)}),[],!1,null,null,null);t.default=f.exports}}]);
//# sourceMappingURL=6.js.map